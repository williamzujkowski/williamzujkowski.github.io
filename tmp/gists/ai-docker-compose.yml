# Docker Compose for isolated AI environment
# Provides network isolation and resource limits for AI experiments

services:
  ai-sandbox:
    image: pytorch/pytorch:latest
    container_name: ai-experiment
    networks:
      - ai-isolated
    volumes:
      - ./models:/workspace/models:ro
      - ./data:/workspace/data
    environment:
      - CUDA_VISIBLE_DEVICES=0
    deploy:
      resources:
        limits:
          cpus: '4'
          memory: 16G
    security_opt:
      - no-new-privileges:true
    read_only: true
    tmpfs:
      - /tmp

networks:
  ai-isolated:
    driver: bridge
    internal: true  # No external network access
