# Avahi mDNS Reflector Configuration
# Source: https://williamzujkowski.github.io/posts/zero-trust-vlan-segmentation-homelab/
# Purpose: Allow service discovery across VLANs without full L2 connectivity
# Location: /etc/avahi/avahi-daemon.conf

[server]
use-ipv4=yes
use-ipv6=no
# Specify which interfaces to reflect mDNS traffic between
allow-interfaces=eth1.20,eth1.40
enable-reflector=yes
reflect-ipv=yes

# Only reflect specific services (AirPlay, Chromecast, HomeKit)
reflect-filters=_airplay._tcp.local,_raop._tcp.local,_homekit._tcp.local,_googlecast._tcp.local

[wide-area]
enable-wide-area=no

[publish]
publish-addresses=yes
publish-hinfo=yes
publish-workstation=no
publish-domain=yes

[rlimits]
rlimit-core=0
rlimit-data=4194304
rlimit-fsize=0
rlimit-nofile=768
rlimit-stack=4194304
rlimit-nproc=3
